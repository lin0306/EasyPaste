<script setup lang="ts">// 菜单相关import {selectedKey} from "./composables/SettingsDataComposable.ts";import GeneralSettings from "./components/GeneralSettings.vue";import ThemeSettings from "./components/ThemeSettings.vue";import UpdateSettings from "./components/UpdateSettings.vue";import StorageSettings from "./components/StorageSettings.vue";import ShortcutSettings from "./components/ShortcutSettings.vue";import {useLanguage} from "../../services/LanguageService.ts";import SettingsMenu from "./components/SettingsMenu.vue";import TitleBar from "../../components/TitleBar.vue";import {animationEffect} from "./composables/SettingsAnimationComposable.ts";import {computed, onMounted} from "vue";import {error} from "@tauri-apps/plugin-log";import {getEnableAnimationEffects, getAnimationDuration} from "../../store/Settings.ts";const {currentLanguage} = useLanguage();// 页面组件mapconst componentMap: any = {  general: GeneralSettings,  themes: ThemeSettings,  updater: UpdateSettings,  storage: StorageSettings,  shortcut: ShortcutSettings,};// 根据 selectedKey 返回对应的组件const currentComponent = computed(() => {  return componentMap[selectedKey.value];});onMounted(async () => {  try {    animationEffect.enabled = await getEnableAnimationEffects();    animationEffect.duration = await getAnimationDuration();    // 设置动画持续时长    document.documentElement.style.setProperty('--animation-duration', animationEffect.duration + 'ms');  } catch (e) {    error("动画效果配置加载失败");    console.error(e);  }})</script><template>  <div class="settings-container">    <titleBar        :title="currentLanguage.pages.settings.title"        :showCloseBtn="true"        :dev-tool="`settings`"    />    <div class="settings-content">      <!-- 左侧菜单 -->      <SettingsMenu/>      <!-- 右侧内容 -->      <div class="settings-form">        <transition-group            :css="animationEffect.enabled"            name="slide-up"        >          <component :is="currentComponent" :key="selectedKey"/>        </transition-group>      </div>    </div>  </div></template><style scoped>.settings-container {  height: 100vh;  display: flex;  flex-direction: column;}.settings-content {  flex: 1;  display: flex;  overflow: hidden;}.settings-form {  flex: 1;  padding: 20px;  overflow-y: auto;  position: relative;}.slide-up-enter-active,.slide-up-leave-active {  transition: all var(--animation-duration, 0.3s) ease;}.slide-up-enter-from {  opacity: 0;}.slide-up-enter-to {  opacity: 1;}.slide-up-leave-from {  opacity: 1;}.slide-up-leave-to {  opacity: 0;}/*以下为子组件通用样式*/:deep(.settings-section) {  margin-bottom: 20px;  overflow-y: auto;}:deep(.settings-section h2) {  margin-bottom: 20px;  font-size: 16px;  font-weight: 500;}:deep(.form-item) {  display: flex;  align-items: center;  margin-bottom: 16px;  padding: 0 2px;  justify-content: space-between;}:deep(.label) {  width: 200px;  margin-right: 16px;}:deep(.select) {  width: 30%;}:deep(.input-number) {  width: 30%;}:deep(.line) {  margin-bottom: 16px;  padding: 0 2px;}:deep(.main-item) {  display: flex;  align-items: center;  justify-content: space-between;}:deep(.hint) {  display: flex;  font-size: 11px;  opacity: 0.5;  align-items: center;  justify-content: flex-start;  flex-direction: row;  color: var(--theme-text);}:deep(.hint-icon) {  width: 12px;  height: 12px;  margin-right: 4px;}:deep(.hint-text) {  width: 98%;}</style>