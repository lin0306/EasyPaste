<script setup lang="ts">import PlainTextPreview from "./PlainTextPreview.vue";import {isMarkdown, isPlainText, isRTF} from "../../../../utils/TextUtil.ts";import MarkdownPreview from "./MarkdownPreview.vue";import RTFPreview from "./RTFPreview.vue";import FileToBigIcon from "../../../../assets/icons/FileToBigIcon.vue";import {getFileSize} from "../../../../utils/FileUtil.ts";import {onMounted, ref, watch} from "vue";import {useLanguage} from "../../../../services/LanguageService.ts";const {currentLanguage} = useLanguage();const props = defineProps<{  filePath: string}>();// 是否可预览const canPreview = ref(false);async function loadFileInfo() {  const size = await getFileSize(props.filePath);  canPreview.value = size < 1024 * 1024 * 10;}watch(() => props.filePath, loadFileInfo)onMounted(loadFileInfo)</script><template>  <div v-if="!canPreview" class="no-preview-container">    <file-to-big-icon class="no-preview-icon"/>    <span class="no-preview-text">      {{ currentLanguage.pages.preview.cannotPreviewText }}    </span>  </div>  <plain-text-preview v-else-if="isPlainText(filePath)" :file-path="filePath"/>  <markdown-preview v-else-if="isMarkdown(filePath)" :file-path="filePath"/>  <r-t-f-preview v-else-if="isRTF(filePath)" :file-path="filePath"/></template><style scoped></style>