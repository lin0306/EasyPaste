<script setup lang="ts">import PlainTextPreview from "./PlainTextPreview.vue";import {getType, isMarkdown, isPlainText, isRTF} from "../../../../utils/TextUtil.ts";import MarkdownPreview from "./MarkdownPreview.vue";import RTFPreview from "./RTFPreview.vue";import FileToBigIcon from "../../../../assets/icons/FileToBigIcon.vue";import {convertFileSize, getFileSize} from "../../../../utils/FileUtil.ts";import {onMounted, reactive, watch} from "vue";import {useLanguage} from "../../../../services/LanguageService.ts";const {currentLanguage} = useLanguage();const props = defineProps<{  filePath: string}>();// 文件信息const fileData = reactive({  canPreview: false,    // 是否可预览  size: '0B',           // 文件大小  type: '',             // 文件类型});async function loadFileInfo() {  const size = await getFileSize(props.filePath);  fileData.size = convertFileSize(size);  fileData.canPreview = size < 1024 * 1024 * 10;  fileData.type = getType(props.filePath);}watch(() => props.filePath, loadFileInfo)onMounted(loadFileInfo)</script><template>  <div v-if="!fileData.canPreview" class="file-to-big-container">    <file-to-big-icon class="file-to-big-icon"/>    <span class="file-to-big-text">      {{currentLanguage.pages.preview.cannotPreviewText}}    </span>  </div>  <plain-text-preview v-else-if="isPlainText(filePath)" :file-path="filePath"/>  <markdown-preview v-else-if="isMarkdown(filePath)" :file-path="filePath"/>  <r-t-f-preview v-else-if="isRTF(filePath)" :file-path="filePath"/>  <div class="file-info">    <div>{{currentLanguage.pages.preview.fileSize}}{{ fileData.size }}</div>    <div>{{ currentLanguage.pages.preview.fileType}}{{ fileData.type }}</div>  </div></template><style scoped>.file-to-big-container {  width: 100%;  height: 95%;  display: flex;  flex-direction: column;  justify-content: center;  align-items: center;}.file-to-big-icon {  width: 40%;  height: auto;  opacity: 0.8;}.file-to-big-text {  width: 70%;  text-align: center;  font-size: 16px;  opacity: 0.8;}.file-info {  display: flex;  justify-content: space-between;}</style>