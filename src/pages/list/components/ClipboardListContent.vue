<template>  <div      class="clipboard-container"      key="clipboard-container"      :class="{'clipboard-container-search': searchBoxState.visible}"  >    <n-infinite-scroll        v-if="clipboardItems && clipboardItems.length > 0"        :distance="9"        @load="loadMoreItems"    >      <!-- 内容列表 -->      <transition-group name="item" :css="animationEffect.enabled">        <ClipboardItem            v-for="(item, index) in clipboardItems"            :key="item.id"            :item="item"            :index="index"            @custom-event="handleChildContextMenu"        />      </transition-group>      <!-- 最底部内容展示 -->      <div v-if="scrollState.isLoading" class="loading-indicator">        <n-spin :description="currentLanguage.pages.list.dataLoading"/>      </div>      <div v-if="!scrollState.hasMore" class="no-more-indicator">        {{ currentLanguage.pages.list.allLoaded }}      </div>    </n-infinite-scroll>    <!-- 无数据展示 -->    <n-empty v-else :description="currentLanguage.pages.list.empty" class="empty"/>  </div>  <!-- 右键菜单 -->  <context-menu :menu-type="contextMenuState.menuType"                :item="contextMenuState.item"                :file-path="contextMenuState.filePath"                :index="contextMenuState.index"                ref="contextMenuRef"  /></template><script setup lang="ts">import {NEmpty, NInfiniteScroll, NSpin} from 'naive-ui';import ClipboardItem from './ClipboardItem.vue';import {clipboardItems, loadMoreItems, scrollState, searchBoxState} from "../composables/ClipboardDataComposable.ts";import {animationEffect} from "../../../components/composables/AnimationComposable.ts";import {reactive, ref} from "vue";import ContextMenu from "./ContextMenu.vue";import {currentLanguage} from "../../../services/LanguageService.ts";/** * 右键菜单信息 */const contextMenuState = reactive({  menuType: '',  item: {} as ClipboardItem,  filePath: '',  index: 0,});/** * 右键菜单信息 */const contextMenuRef = ref();/** * 子组件调用的父组件方法 * @param data */function handleChildContextMenu(data: any) {  // 这个方法会被子组件“间接调用”  console.log('子组件传来的数据:', data)  contextMenuState.menuType = data.type;  contextMenuState.item = data.item;  contextMenuState.filePath = data.filePath;  contextMenuState.index = data.index;  // 显示右键菜单  contextMenuRef.value?.handleMenuShow();}</script><style scoped>.loading-indicator {  display: flex;  justify-content: center;  align-items: center;  height: 80px;}.no-more-indicator {  display: flex;  justify-content: center;  align-items: center;  height: 50px;}.empty {  display: flex;  justify-content: center;  align-items: center;  height: 100%;}.clipboard-container {  height: calc(100vh - 80px);  /* 减去TitleBar(25px)和NavBar(30px)的高度 */  z-index: 1;  position: relative;  overflow-y: auto;  will-change: height;  transition: height var(--animation-duration, 0.3s) ease, transform var(--animation-duration, 0.3s) ease;}.clipboard-container.clipboard-container-search {  height: calc(100vh - 155px);  transform: translateY(75px);  /* 减去TitleBar(25px)和NavBar(30px)的高度 */}/** * 代码块行号样式 */:deep(.n-code__line-numbers) {  color: var(--theme-universal-textHint);}/*内容列表动画效果start*//* 进入动画 - 从右侧进入 */.item-enter-from {  opacity: 0;  transform: translateX(100%);}.item-enter-to {  opacity: 1;  transform: translateX(0);}/* 离开动画 - 向左侧离开 */.item-leave-from {  opacity: 1;  transform: translateX(0);}.item-leave-to {  opacity: 0;  transform: translateX(-100%);}/* 离开中 */.item-leave-active {  position: absolute;  width: calc(100% - 12px); /* 考虑左右 margin */}/*内容列表动画效果end*/</style>