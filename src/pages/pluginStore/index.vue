<script setup lang="ts">import {currentLanguage} from "../../services/LanguageService.ts";import TitleBar from "../../components/TitleBar.vue";import {onMounted, watch} from "vue";import {  clearSelectPlugin,  initializePlugins,  localPlugins,  onSelectLocal,  onSelectStore,  pluginStore,  tabValue} from "./composables/PluginComponsables.ts";import StoreList from "./components/StoreList.vue";import LocalList from "./components/LocalList.vue";import PluginDetail from "./components/PluginDetail.vue";/** * 插件页面切换 */watch(() => tabValue.value, (newValue) => {  console.log("切换插件页面：", newValue);  if (newValue === "store" && pluginStore.value && pluginStore.value.length > 0) {    onSelectStore(pluginStore.value[0]);  } else if (newValue === "local" && localPlugins.value && localPlugins.value.length > 0) {    onSelectLocal(localPlugins.value[0]);  } else {    // 清空selectPlugin数据    clearSelectPlugin();  }})onMounted(async () => {  await initializePlugins();})</script><template>  <TitleBar      :title="currentLanguage.pages.pluginStore.title"      :showCloseBtn="true"      :dev-tool="`plugin-store`"  />  <div class="container">    <n-tabs type="line" justify-content="center" v-model:value="tabValue">      <n-tab name="store">        {{ currentLanguage.pages.pluginStore.storeTabTitle }}      </n-tab>      <n-tab name="local">        {{ currentLanguage.pages.pluginStore.localTabTitle }}      </n-tab>    </n-tabs>    <div class="plugin-container">      <!-- 插件商店 -->      <store-list v-if="tabValue === 'store'"/>      <!-- 已安装插件 -->      <local-list v-if="tabValue === 'local'"/>      <!-- 插件详情 -->      <plugin-detail/>    </div>  </div></template><style scoped>:deep(.n-tabs-tab) {  margin: 0 10px !important;}.plugin-container {  display: flex;  flex-direction: row;  height: calc(100vh - 50px);}:deep(.plugin-list) {  width: 50%;  height: 100%;  border-right: 1px solid var(--theme-universal-border);}:deep(.plugin-item) {  display: flex;  padding: 5px;}:deep(.plugin-item:hover) {  background-color: var(--theme-menu-itemHover);}:deep(.item-selected) {  background-color: var(--theme-menu-itemActive) !important;}:deep(.plugin-item-icon) {  width: 15%;  margin-right: 1%;}:deep(.plugin-icon) {  width: 80%;  height: 80%;  padding: 10%;}:deep(.plugin-item-content) {  width: 60%;}:deep(.plugin-title) {  display: flex;  align-items: center;  gap: 5px;}:deep(.plugin-name) {  font-size: 18px;  font-weight: 700;}:deep(.platform-icon) {  width: 14px;  margin-left: 5px;}:deep(.plugin-title :deep(.n-tag__content)) {  font-size: 12px;}:deep(.plugin-info) {  display: flex;  font-size: 12px;  gap: 5px;}:deep(.plugin-version) {  display: flex;  align-items: center;}:deep(.version-icon) {  width: 14px;  height: 14px;  margin-right: 2px;}:deep(.plugin-item-btn) {  width: 25%;  display: flex;  align-items: center;  justify-content: center;}:deep(.no-plugins-container) {  display: flex;  align-items: center;  justify-content: center;  width: 100%;  height: 100%;}</style>